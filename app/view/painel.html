<h1 class="d-flex justify-content-center">Area Administrativa</h1>
<div class="container d-flex justify-content-end">
    <a href="" class="btn btn-primary " data-toggle="modal" data-target="#modalCadastrar">Novo Post</a>
</div>
<hr>

<div class="container">
  <!-- verifica se existe msg de alerta se hover exibe na tela -->
    {% if alerta != '' %}
    <div class="alert alert-{{tipoAlerta}}" role="alert">
        {{alerta}}
    </div>
    {% endif %}

    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">TITULO</th>
                <th scope="col">AÇÃO</th>
            </tr>
        </thead>
        <tbody>
            <!-- loop onde percorre cada postagem -->
            {% for post in postagem %}  
            <tr>
                <!-- Aqui diz qual index do loop esta sendo percorrido -->
                <th scope="row">{{ loop.index }}</th>
                <!-- inseri o titulo do objeto -->
                <td>{{post.titulo}}</td>
                <td>
                    <a href="http://localhost/projeto_crud/painel/select/{{post.id}}" class="btn btn-primary" >Alterar</a>
                    <a href="http://localhost/projeto_crud/painel/delete/{{post.id}}" class="btn btn-danger">Deletar</a>
                </td>
            </tr>
            {% endfor %}
        
        </tbody>
        </table>
      
</div>

<!-- Modal Cadastrar -->
<div class="modal fade" id="modalCadastrar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Nova Postagem</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
            <form method="POST" action="http://localhost/projeto_crud/painel/inserir">
                <div class="form-group">
                  <label for="formGroupExampleInput">Título da Postagem:</label>
                  <input name="titulo" type="text" class="form-control" id="formGroupExampleInput" placeholder="Seu Título" required>
                  <div class="invalid-feedback">
                    Por favor insira um Título
                  </div>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlTextarea1">Conteúdo:</label>
                    <textarea name="conteudo" class="form-control" id="exampleFormControlTextarea1" rows="7" required></textarea>
                    <div class="invalid-feedback">
                        Por favor insira o Conteúdo.
                      </div>
                </div>
                </div> 
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Sair</button>
                    <button type="submit" class="btn btn-success">Postar</button>
                </div>              
            </form>
      </div>
    </div>
  </div>